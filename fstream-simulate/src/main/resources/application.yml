---
# Copyright (c) 2014 fStream. All Rights Reserved.
# 
# Project and contact information: https://bitbucket.org/fstream/fstream
# 
# Unauthorized copying of this file, via any medium is strictly prohibited.
# Proprietary and confidential.

# Spring
spring:
   profiles:
      active: file

###############################################################################
# Default profile
###############################################################################

# Application
simulate:
   seconds: 60
   instruments:
      - RY
      - BMO
      - TD
      - BBM
      - HUF
   msgResponseTimeout: 1 # in seconds
   minTickSize: 0.1
   nonPremiumQuoteDelay: 1000 # in milliseconds
   institutionalProp:
      probBuy: 0.49
      probMarket: 0.30
      probBestPrice: 0.70
      maxTradeSize: 5000
      maxSleep: 2500 # in millis
      minSleep: 1000 # in millis
      numAgents: 3000
      quoteSubscriptionLevel: SUBSCRIBE_QUOTES
   retailProp:
      probBuy: 0.49
      probMarket: 0.69
      probBestPrice: 0.19
      maxTradeSize: 1000
      maxSleep: 10000 # in millis
      minSleep: 5000 # in millis
      numAgents: 1500
      quoteSubscriptionLevel: SUBSCRIBE_QUOTES
   hftProp:
      probBuy: 0.49
      probMarket: 0.69
      probBestPrice: 0.19
      maxTradeSize: 1000
      maxSleep: 1000 # in millis
      minSleep: 100 # in millis
      numAgents: 500
      quoteSubscriptionLevel: SUBSCRIBE_QUOTES_PREMIUM
      
---

###############################################################################
# File profile
###############################################################################

# Spring
spring:
   profiles: file

# Simulate
simulate:
   publish:
      uri: file:build?fileName=fstream-simulation.json

---

###############################################################################
# Log profile
###############################################################################

# Spring
spring:
   profiles: log

# Simulate
simulate:
   publish:
      uri: log:toq?showExchangePattern=false&showBodyType=false

---

###############################################################################
# Console profile
###############################################################################

# Spring
spring:
   profiles: console

# Simulate
simulate:
   publish:
      uri: stream:out

---

###############################################################################
# Kafka profile
###############################################################################

# Spring
spring:
   profiles: kafka

# ZooKeeper
zk:
   connect: localhost:21812

# Kafka
kafka:
   producerProperties:
      metadata.broker.list: ${kafka.broker.list:localhost:6667}
      partitioner.class: kafka.producer.DefaultPartitioner
      serializer.class: kafka.serializer.StringEncoder
      
# Simulate
simulate:
   publish:
      uri:
        "kafka:\
        ${kafka.producerProperties.metadata.broker.list}?\
        topic=toq&\
        zookeeperConnect=${zk.connect}&\
        partitioner=${kafka.producerProperties.partitioner.class}&\
        serializerClass=${kafka.producerProperties.serializer.class}"
      