SELECT case rate1.symbol WHEN 'AUD/USD' then Math.round(rate1.mid * 10000)/10000
				  WHEN 'AUD/NZD' then Math.round(rate1.mid * 10000)/10000
				  WHEN 'NZD/USD' then Math.round((1/rate1.mid) * 10000)/10000
				  ELSE Math.round(rate1.mid * 10000)/10000
				  end as a,
		case rate2.symbol WHEN 'AUD/USD' then Math.round(rate2.mid * 10000)/10000
				  WHEN 'AUD/NZD' then Math.round(rate2.mid * 10000)/10000
				  WHEN 'NZD/USD' then Math.round((1/rate2.mid) * 10000)/10000
				  ELSE Math.round(rate2.mid * 10000)/10000
				  end as b,
		case rate3.symbol WHEN 'AUD/USD' then Math.round(rate3.mid * 10000)/10000
				  WHEN 'AUD/NZD' then Math.round(rate3.mid * 10000)/10000
				  WHEN 'NZD/USD' then Math.round((1/rate3.mid) * 10000)/10000
				  else Math.round(rate3.mid * 10000)/10000
				  end as c
FROM PATTERN  [EVERY 
			   (
			   rate1 = Rate(symbol in ['AUD/USD','NZD/USD','AUD/NZD']) -> 
               rate2= Rate(symbol in ['AUD/USD','NZD/USD','AUD/NZD'] and symbol != rate1.symbol and dateTime = rate1.dateTime) ->
               rate3 =  Rate(symbol in ['AUD/USD','NZD/USD','AUD/NZD'] and symbol != rate1.symbol and symbol != rate2.symbol and dateTime = rate2.dateTime)
               )
            ]
