/*
 * Copyright (c) 2014 fStream. All Rights Reserved.
 *
 * Project and contact information: https://bitbucket.org/fstream/fstream
 *
 * Unauthorized copying of this file, via any medium is strictly prohibited.
 * Proprietary and confidential.
 */

defaultTasks 'build'

buildscript {
	repositories {
		maven { url "http://repo.spring.io/libs-snapshot" }
		mavenLocal()
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:1.0.2.RELEASE")
	}
}

subprojects {
	version = '0.0.1-SNAPSHOT'
	group = 'io.fstream'
	
	apply plugin: 'java'
	
	sourceCompatibility = JavaVersion.VERSION_1_7
	targetCompatibility = project.sourceCompatibility
	
	repositories { 
		mavenCentral() 
	    maven { url 'http://repo.marketcetera.org/maven' }
	    maven { url 'http://clojars.org/repo' }
	    maven { url 'http://conjars.org/repo' }
	    maven { url 'http://twitter4j.org/maven2' }
	}
	
	configurations {
		compile.exclude module: 'slf4j-simple'
		compile.exclude module: 'slf4j-log4j12'
		
		all*.exclude group: 'javax.jms', module: 'jms'
		all*.exclude group: 'com.sun.jdmk', module: 'jmxtools'
		all*.exclude group: 'com.sun.jmx', module: 'jmxri'
	}
	
	dependencies {
		// Compile-time transformations
		compile 'org.projectlombok:lombok:1.12.4'
		
		// Utilities
		compile 'com.google.guava:guava:16.0.1'
		compile 'joda-time:joda-time:2.3'
		
		// Logging
		compile 'ch.qos.logback:logback-classic:1.1.2'
		compile 'org.slf4j:jcl-over-slf4j:1.7.6'
		compile 'org.slf4j:log4j-over-slf4j:1.7.6'
		
		// Test
		testCompile 'junit:junit:4.11'
	}
	
	jar {
		manifest {
			attributes 'Provider': 'gradle', 'Implementation-Title': project.name, 'Implementation-Version': project.version
		}
	}
}
